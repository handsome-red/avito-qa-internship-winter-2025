# Тест-кейсы для API микросервиса объявлений

## Функциональные тесты

### 1. Создание объявления
| ID | Название | Предусловия | Шаги | Ожидаемый результат |
|----|----------|-------------|------|-------------------|
| TC-001 | Успешное создание объявления | - | 1. Отправить POST запрос на `/api/1/item` с валидными данными<br>2. Проверить ответ | Статус 200, в ответе есть ID созданного объявления |
| TC-002 | Создание без обязательных полей | - | 1. Отправить POST запрос без поля sellerID<br>2. Повторить для других обязательных полей | Статус 400 для каждого случая |
| TC-003 | Создание с невалидными типами данных | - | 1. Отправить POST запрос с price как строка<br>2. Отправить POST запрос с sellerID как строка | Статус 400 |
| TC-004 | Создание с statistics = null | - | 1. Отправить POST запрос с statistics: null | Статус 400 или 200 (в зависимости от реализации) |
| TC-005 | Создание с большой ценой | - | 1. Отправить POST запрос с price: 999999999 | Статус 200 или 400 |
| TC-006 | Создание со спецсимволами в названии | - | 1. Отправить POST запрос с emoji в названии<br>2. С HTML тегами<br>3. Со спецсимволами | Статус 200, имя сохраняется корректно |

### 2. Получение объявления по ID
| ID | Название | Предусловия | Шаги | Ожидаемый результат |
|----|----------|-------------|------|-------------------|
| TC-007 | Успешное получение объявления | Создано объявление с ID | 1. Отправить GET запрос на `/api/1/item/{id}` | Статус 200, данные соответствуют созданному |
| TC-008 | Получение несуществующего объявления | - | 1. Отправить GET запрос с несуществующим ID | Статус 404 |
| TC-009 | Проверка типов полей в ответе | Создано объявление | 1. Получить объявление<br>2. Проверить типы всех полей | Все поля имеют правильные типы |

### 3. Получение объявлений по sellerID
| ID | Название | Предусловия | Шаги | Ожидаемый результат |
|----|----------|-------------|------|-------------------|
| TC-010 | Успешное получение всех объявлений продавца | Создано 3 объявления с одним sellerID | 1. Отправить GET запрос на `/api/1/{sellerID}/item` | Статус 200, массив из 3 объявлений |
| TC-011 | Получение для несуществующего продавца | - | 1. Отправить GET запрос с несуществующим sellerID | Статус 200 с пустым массивом или 404 |
| TC-012 | Проверка уникальности ID | Создано 2 объявления | 1. Проверить ID созданных объявлений | ID должны быть уникальными |

## Нефункциональные тесты

### 13. Нагрузочное тестирование
| ID | Название | Предусловия | Шаги | Ожидаемый результат |
|----|----------|-------------|------|-------------------|
| TC-013 | Параллельные запросы | - | 1. Отправить 5 параллельных запросов на создание | Все запросы обрабатываются |

## Граничные тесты

### 14. Граничные значения
| ID | Название | Предусловия | Шаги | Ожидаемый результат |
|----|----------|-------------|------|-------------------|
| TC-014 | Минимальная цена | - | 1. Создать объявление с price: 0 | Статус 200 или 400 |
| TC-015 | Отрицательная цена | - | 1. Создать объявление с price: -100 | Статус 400 |
| TC-016 | Очень длинное название | - | 1. Создать объявление с названием 255 символов | Статус 200 или 400 |

## Тесты безопасности

### 15. Проверка безопасности
| ID | Название | Предусловия | Шаги | Ожидаемый результат |
|----|----------|-------------|------|-------------------|
| TC-017 | SQL инъекция в name | - | 1. Создать объявление с name: `" OR 1=1 --` | Статус 400 или экранирование |
| TC-018 | XSS в name | - | 1. Создать объявление с name: `<script>alert(1)</script>` | Статус 200, скрипт не выполняется |

## Примечания
1. SellerID должен быть в диапазоне 111111-999999
2. Все ID объявлений уникальны
3. Поле statistics обязательно при создании
4. API работает только с JSON